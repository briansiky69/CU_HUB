{% extends 'base.html' %} {% load static %} {% block content %}
<style>
  .carousel-item {
    display: none; /* Hide all carousel items by default */
  }
  .carousel-item.active {
    display: flex; /* Display active carousel item as flex */
  }
  .card {
    flex: 1 0 0;
    margin: 10px;
  }
</style>
</style>
<div class="">
  <div class="welcome-image mb-3 roudend">
    <div class="overlay"></div>

    <div class="text-overlay text-center text-white">
      <h1>Welcome to Our Church</h1>
      <p>Join us and become part of our community.</p>
      <button type="button" class="btn btn-primary">Learn More</button>
      <button type="button" class="btn btn-secondary">Join Us</button>
    </div>
  </div>
  <!-- upcoming events section -->
  <section class="container mt-5">
    <h2 class="h2 my-3">Upcoming Events</h2>
    <div id="eventsCarousel" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        {% for grouped_events in events %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <div class="row d-flex">
              {% for event in grouped_events %}
                <div class="col-md-4">
                <div class="card mb-4">
                  {% if event.image %}
                  <img
                    src="{{ event.image.url }}"
                    class="card-img-top"
                    alt="{{ event.name }}"
                  />
                  {% endif %}
                  <div class="card-body">
                    <h5 class="card-title">{{ event.name }}</h5>
                    <p class="card-text">
                      {{ event.start_time | date:"F d, Y" }} - {{ event.end_time | date:"F d, Y" }}
                    </p>
                    <p class="card-text">{{ event.description }}</p>
                    <a href="" class="btn btn-primary">Learn more</a>
                  </div>
                </div>
              </div>
              {% endfor %}
            </div>
          </div>
        {% endfor %}
      </div>
      <a
        class="carousel-control-prev"
        href="#eventsCarousel"
        role="button"
        data-slide="prev"
      >
        <span class="carousel-control-prev-icon text-dark" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a
        class="carousel-control-next"
        href="#eventsCarousel"
        role="button"
        data-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </section>
  <section class="container-fluid bg-light p-5">
    <div class="container">
      <h2>Upcoming Sermons</h2>
      <div class="row">
        {% for sermon in sermons %}
        <div class="col-md-4 sermon-col">
          <div class="card mb-4">
            {% if sermon.image %}
            <img
              src="{{ sermon.image.url }}"
              class="card-img-top"
              alt="{{ sermon.title }}"
            />
            {% else %}
            <img
              src="/static/img/default-sermon-image.jpg"
              class="card-img-top"
              alt="{{ sermon.title }}"
            />
            {% endif %}
            <div class="card-body">
              <h5 class="card-title">{{ sermon.title }}</h5>
              <p class="card-text">
                <strong>Speaker:</strong> {{ sermon.speaker }}
              </p>
              <p class="card-text">
                <strong>Date:</strong> {{ sermon.date|date:"F d, Y" }}
              </p>
              <p class="card-text">{{ sermon.description|truncatewords:20 }}</p>
              {% if sermon.video_link %}
              <div class="embed-responsive embed-responsive-16by9">
                <iframe
                  class="embed-responsive-item"
                  src="https://www.youtube.com/embed/{{ sermon.video_link }}"
                  allowfullscreen
                ></iframe>
              </div>
              {% endif %}
              <a href="#" class="btn btn-primary">Learn more</a>
            </div>
          </div>
        </div>
        {% empty %}
        <p>No sermons found.</p>
        {% endfor %}
      </div>
      {% if sermons.paginator.num_pages > 1 %}
        <div class="row">
          <div class="col-12">
            <nav aria-label="Page navigation example">
              <ul class="pagination justify-content-center">
                {% if sermons.has_previous %}
                  <li class="page-item">
                    <a
                      class="page-link"
                      href="?page={{ sermons.previous_page_number }}"
                      tabindex="-1"
                      aria-label="Previous"
                    >
                      <span aria-hidden="true">&laquo;</span>
                      <span class="sr-only">Previous</span>
                    </a>
                  </li>
                {% endif %}
                {% for i in sermons.paginator.page_range %}
                  {% if sermons.number == i %}
                  <li class="page-item active">
                    <a class="page-link" href="?page={{ i }}">{{ i }}</a>
                  </li>
                  {% elif i > sermons.number|add:-3 and i < sermons.number|add:3 %}
                  <li class="page-item">
                    <a class="page-link" href="?page={{ i }}">{{ i }}</a>
                  </li>
                  {% endif %}
                {% endfor %}
                {% if sermons.has_next %}
                  <li class="page-item">
                    <a
                      class="page-link"
                      href="?page={{ sermons.next_page_number }}"
                    >
                      <span aria-hidden="true">&raquo;</span>
                      <span class="sr-only">Next</span>
                    </a>
                  </li>
                {% endif %}
              </ul>
            </nav>
          </div>
        </div>
      {% endif %}
    </div>
  </section>
  <!-- About Section -->
  <section id="about">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-title">About Us</h2>
          <p class="lead">
            Our church is a welcoming community that believes in spreading love
            and kindness. We offer various programs and services to help you
            grow in your faith.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <img
            src="https://via.placeholder.com/600x400"
            alt="About Us"
            class="img-fluid"
          />
        </div>
        <div class="col-md-6">
          <p>
            We have a rich history and a vibrant community. Our church is a
            place where you can connect with others, grow in your faith, and
            serve the community.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 text-center">
          <h3 class="section-subtitle">Our Location</h3>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3988.789214935851!2d36.760929073900655!3d-1.3013686356405554!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x182f1b3cc1982859%3A0x88993b1e5d46cc20!2sKenya%20Science%20Campus%2C%20University%20of%20Nairobi!5e0!3m2!1sen!2ske!4v1713940487926!5m2!1sen!2ske"
            width="100%"
            height="400"
            style="border: 20"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="bg-dark text-white">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-title">Contact Us</h2>
          <p class="lead">
            Feel free to reach out to us with any questions or concerns.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <form id="contact-form">
            <div class="form-group">
              <input
                type="text"
                class="form-control form-control-lg"
                id="name"
                placeholder="Your Name"
              />
            </div>
            <div class="form-group">
              <input
                type="email"
                class="form-control form-control-lg"
                id="email"
                placeholder="Your Email"
              />
            </div>
            <div class="form-group">
              <textarea
                class="form-control form-control-lg"
                id="message"
                rows="3"
                placeholder="Your Message"
              ></textarea>
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn-light btn-lg">
                Send Message
              </button>
            </div>
          </form>
        </div>
        <div class="col-md-6">
          <h3 class="section-subtitle">Contact Information</h3>
          <p>Dagoretti, Nairobi, Kenya</p>
          <p>Phone: (123) 456-7890</p>
          <p>Email: <a href="mailto:ksccu40@gmail.com">info@example.com</a></p>
        </div>
      </div>
    </div>
  </section>
  {% include 'footer.html' %} {% endblock %} {% include 'footer.html' %}
  <script>
    $('#eventsCarousel').carousel({
            interval: 3000 // 3 seconds
    });
</script>
</div>
